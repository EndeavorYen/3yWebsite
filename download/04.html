<html>

<!-- Mirrored from marcoyan.no-ip.org/demo/20020201-3838/download/04.html by HTTrack Website Copier/3.x [XR&CO'2010], Fri, 11 Mar 2011 01:15:48 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=big5">
<title>三國歪傳之降龍伏虎</title>
<link rel="stylesheet" href="../ccs/font.css" type="text/css">
<script language="JavaScript">
<!--
function MM_reloadPage(init) {  //reloads the window if Nav4 resized
  if (init==true) with (navigator) {if ((appName=="Netscape")&&(parseInt(appVersion)==4)) {
    document.MM_pgW=innerWidth; document.MM_pgH=innerHeight; onresize=MM_reloadPage; }}
  else if (innerWidth!=document.MM_pgW || innerHeight!=document.MM_pgH) location.reload();
}
MM_reloadPage(true);
// -->
</script>
</head>
<BODY background="../pic/bg.gif">
<div id="mainlayer" style="position:absolute; left:40px; top:15px; width:500px; z-index:1"> 
  <table width="500" border="0" cellspacing="0" cellpadding="3" align="center">
    <tr> 
      <td> 
        <div align="center"></div>
      </td>
    </tr>
    <tr>
      <td> 
        <div align="center"><a href="03.html" target="_self"><span class="text2">上一篇</span></a><span class="text2"> 
          | <a href="index.html" target="_self">回索引</a> | <a href="05.html" target="_self">下一篇</a></span></div>
        </td>
    </tr>
    <tr> 
      <td> 
        <p class="text2">&nbsp;</p>
        <p class="text2" align="center"><font size="4"><b class="text2">重置寫法介紹</b></font></p>
        <p class="text2"><span class="text4">一、檔案位置﹕</span></p>
        <p class="text1"><span class="text2">所有在 &lt;區域&gt;/res/ 目錄底下的 *.res 檔案都是重置檔案﹐而所有<br>
          的重置就是由這些檔案所組成。</span></p>
        <p class="text1"><span class="text4">二、格式﹕</span></p>
        <p class="text1"><span class="text2">* /* 任何由 * 開頭的這一行為註解﹐系統不會讀入 */<br>
          M &lt;怪物號碼:數字&gt; &lt;總限制數:數字&gt; &lt;房間號碼:數字&gt; &lt;註解:字串&gt;<br>
          O &lt;物品號碼:數字&gt; &lt;常數&gt; &lt;房間號碼:數字&gt; &lt;註解:字串&gt;<br>
          P &lt;物品號碼:數字&gt; &lt;常數&gt; &lt;物品號碼:數字&gt; &lt;註解:字串&gt;<br>
          G &lt;物品號碼:數字&gt; &lt;怪物號碼:數字&gt; &lt;註解:字串&gt;<br>
          E &lt;物品號碼:數字&gt; &lt;怪物號碼:數字&gt; &lt;裝備位置:數字或字串常數&gt; &lt;註解:字串&gt;<br>
          D &lt;房間號碼:數字&gt; &lt;出口:數字或字串常數&gt; &lt;狀態:數字或字串常數&gt; &lt;註解:字串&gt;<br>
          R &lt;房間號碼:數字&gt; &lt;出口:數字或字串常數&gt; &lt;註解:字串&gt;<br>
          A &lt;怪物號碼:數字&gt; &lt;註解:字串&gt;<br>
          S /* 此行代表重置檔案的結束 */</span></p>
        <p class="text1"><span class="text2">P.S. 註解可以使用 \ 來連到下一行.</span></p>
        <p class="text1"><span class="text4">三、範例﹕</span></p>
        <p class="text1"><span class="text2">* 這一行是註解.<br>
          M 450 1 464 女大夫<br>
          M 451 2 465 惡犬 --&gt; lv1<br>
          M 451 2 465 惡犬 --&gt; lv1<br>
          M 455 2 477 吸血蝙蝠 --&gt; lv1<br>
          M 455 2 477 吸血蝙蝠 --&gt; lv1<br>
          M 452 1 470 大獒犬 --&gt; lv3<br>
          M 456 1 466 小豪豬 --&gt; lv5<br>
          E 451 456 WEAR_WIELD 裝備劍<br>
          M 453 1 467 教逃跑(flee)的女孩 \<br>
          這一行還是註解...^_^<br>
          M 454 1 468 商店老闆<br>
          G 63 454 販賣滷蛋<br>
          G 1221 454 販賣火把<br>
          G 450 454 販賣水袋<br>
          O 13 1 462 池塘<br>
          S</span></p>
        <p class="text1"><span class="text4">四、說明﹕</span></p>
        <p class="text1"><span class="text2"> 在重置一個區域的時候，系統會將所有在重置中的命令一行一<br>
          行的執行過一次。所有的區域會在系統一開始的時候全部重置過一<br>
          次，接著則是每經過一個固定的時間系統會再全部重置過一次。若<br>
          是一個區域中都沒有玩家，則在每 3 個區域時間(area-minutes)中<br>
          會重置一次，否則會再每 15 個區域時間中重置一次。在第 14 個<br>
          區域時間的時候，所有醒著的玩家都會接到一段訊息，表示說這個<br>
          區域已經重置過了。這些東西都是寫在 &quot;db.c&quot; 中的 &quot;reset_area&quot; <br>
          的這個函數中。</span></p>
        <p class="text1"><span class="text2"> 一個區域時間(area-minute)通常在真實時間大概是 30 
          到 90 <br>
          秒之間，通常是在 60 秒左右。這個變化都是由系統來決定的。</span></p>
        <p> <span class="text2">&quot;resets&quot; 這個部份包含了一連串的單行指令。而反斜線 &quot;/&quot; 
          所<br>
          分開的部份只是為了閱讀的方便，它們都不是格式的一部份。因為<br>
          有了行尾的註解，所以這個部份的格式沒有像其它部份那麼的自由。</span></p>
        <p class="text1"><span class="text2"> 以 &quot;*&quot; 開頭的都視為註解。而 &quot;S&quot; 
          這一行則是這個部份的最後<br>
          一行。你可以不加入這一個 &quot;S&quot; , 當檔案結束一樣是重置的結束.</span></p>
        <p class="text1"><span class="text2"> 所有指令簡單說明: M --&gt; 讀取怪物<br>
          O --&gt; 放置物品<br>
          P --&gt; 放置物品於另一物品內 <br>
          G --&gt; 將一物品給予一個怪物<br>
          E --&gt; 將物品給予怪物裝備<br>
          D --&gt; 設定出口狀態<br>
          R --&gt; 亂數設定出口<br>
          A --&gt; 騎馬</span></p>
        <p class="text1"><span class="text2"> (1) M 放置怪物:</span></p>
        <p class="text1"><span class="text2"> M &lt;怪物號碼:數字&gt; &lt;總限制數:數字&gt; 
          &lt;房間號碼:數字&gt; &lt;註解:字串&gt;</span></p>
        <p class="text1"><span class="text2"> 這個指令可以把一個怪物放到你要放的房間去, 其中怪物的號碼<br>
          即是你所要放的這個怪物, 當然這個號碼要存在, 真的有這一個<br>
          怪物, 而總限制數即是當這種怪物在這個世界的數量到達總限制<br>
          數的時候便不會再讀取出來了, 不會有怪物爆滿的情況, 通常一<br>
          個特殊的怪物都設定為一個.</span></p>
        <p class="text1"><span class="text2"> (2) O 放置物品:</span></p>
        <p class="text1"><span class="text2"> O &lt;物品號碼:數字&gt; &lt;常數&gt; &lt;房間號碼:數字&gt; 
          &lt;註解:字串&gt;</span></p>
        <p class="text1"><span class="text2"> 這個指令可以把一個物品放到一個房間去, 其中物品跟房間的號<br>
          碼都必須存在, 你可以利用這一類的重置指令來放置一些像是噴<br>
          水池, 看版等等東西.</span></p>
        <p class="text1"><span class="text2"> (3) P 放置物品於另一物品內:</span></p>
        <p class="text1"><span class="text2"> P &lt;物品號碼:數字&gt; &lt;常數&gt; &lt;物品號碼:數字&gt; 
          &lt;註解:字串&gt;</span></p>
        <p class="text1"><span class="text2"> 這個指令可以把一個東西放到另一個東西裡面, 第一個物品號碼<br>
          是要放置的物品, 第二個則是被放的物品, 當然這兩個物品都必<br>
          須存在, 並且第二個物品必須是容器才可以.</span></p>
        <p class="text1"><span class="text2"> (4) G 將一物品給予另一怪物 </span></p>
        <p class="text1"><span class="text2"> G &lt;物品號碼:數字&gt; &lt;MOB號碼:數字&gt; 
          &lt;註解:字串&gt;</span></p>
        <p class="text1"><span class="text2"> 這個指令可以給予一個怪物一個物品, 並且不會裝備起來, 如果<br>
          這個怪物是一個買賣的商店老闆的話, 並且給予的東西的型態是<br>
          可以賣的的話, 這個物品就可以被買.</span></p>
        <p class="text1"><span class="text2"> (5) E 將物品裝備到怪物身上:</span></p>
        <p class="text1"><span class="text2"> E &lt;物品號碼:數字&gt; &lt;怪物號碼:數字&gt; 
          &lt;裝備位置:數字&gt; &lt;註解:字串&gt;</span></p>
        <p class="text1"><span class="text2"> 這個指令可以讓怪物裝備物品, 不過必須這個物品可以裝備, 還<br>
          有要裝備在正確的位置. 裝備的位置如下:</span></p>
        <p class="text1"><span class="text2"> WEAR_LIGHT 0 (燈光)<br>
          WEAR_FINGER_L 1 (左手手指)<br>
          WEAR_FINGER_R 2 (右手手指)<br>
          WEAR_NECK_1 3 (脖子1)<br>
          WEAR_NECK_2 4 (脖子2)<br>
          WEAR_BODY 5 (身體)<br>
          WEAR_HEAD 6 (頭部)<br>
          WEAR_LEGS 7 (腿)<br>
          WEAR_FEET 8 (腳ㄚ子)<br>
          WEAR_HANDS 9 (手)<br>
          WEAR_ARMS 10 (手臂)<br>
          WEAR_SHIELD 11 (盾牌)<br>
          WEAR_ABOUT 12 (披風)<br>
          WEAR_WAIST 13 (腰部)<br>
          WEAR_WRIST_L 14 (左手腕)<br>
          WEAR_WRIST_R 15 (右手腕)<br>
          WEAR_WIELD 16 (武器)<br>
          WEAR_HOLD 17 (握住)<br>
          WEAR_EARRING_L 18 (左耳)<br>
          WEAR_EARRING_R 19 (右耳)<br>
          <br>
          (6) D 設定房間出口狀態:</span></p>
        <p class="text1"><span class="text2"> D &lt;房間號碼:數字&gt; &lt;出口:數字&gt; 
          &lt;狀態:數字&gt; &lt;註解:字串&gt;</span></p>
        <p class="text1"><span class="text2"> 這個指令主要用來開關或是鎖住一個門, 這個門就是房間的那個<br>
          出口的門, 當然這個門必須是一個可以開關或鎖住的門, 可以設<br>
          定的狀態如下:</span></p>
        <p class="text1"><span class="text2"> DOOR_OPEN 0 (打開)<br>
          DOOR_CLOSED 1 (關上)<br>
          DOOR_LOCKED 2 (鎖上)</span></p>
        <p class="text1"><span class="text2"> 如果你設定這個門為關閉, 則必須這個門在區域房間設定時就要<br>
          可以關閉, 設定門的鎖住也一樣.</span></p>
        <p class="text1"><span class="text2"> (7) R 亂數設定房間出口:</span></p>
        <p class="text1"><span class="text2"> R &lt;房間號碼:數字&gt; &lt;出口:數字&gt; 
          &lt;註解:字串&gt;</span></p>
        <p class="text1"><span class="text2"> 對 &quot;R&quot; 來說，第 1 個數字是一個房間的號碼。第 
          2 個數字是一<br>
          個門的號碼(如前面所述)。當這個命令一被執行，那麼從 0 到所<br>
          指定的數字的這些方向都會被錯雜在一起。這個房間還是會保留<br>
          通往其它房間的出口，但是所有的方向都會不一樣。因此如果設<br>
          定為 4 則會產生一個 2 度空間的迷宮，若是設定成 6 則會產生<br>
          一個三度空間的迷宮。</span></p>
        <p class="text1"><span class="text2"> (8) 一個房間的出口可以同時使用 D 與 R 兩個命令.</span></p>
        <p class="text1"><span class="text2"> (9) A 騎馬:<br>
          <br>
          A &lt;怪物號碼:數字&gt; &lt;註解:字串&gt;</span></p>
        <p class="text1"><span class="text2"> 這個指令讓一個怪物可以在重置的時候騎馬, 其中的怪物號碼就<br>
          是馬的號碼, 並且這個怪物要真的可以騎才可以, 這個指令跟在<br>
          怪物讀取出來的指令之後, 就是說這個指令前面的怪物就是騎馬<br>
          的怪物.</span></p>
        <p class="text1"><span class="text2">(10) 像 G P E A 等等指令, 被給予或是放置, 裝備等等的東西都必須<br>
          寫在前面, 並且給予的指令則緊接在後, 表示這個東西是給予或<br>
          是裝備這個怪物等等.</span></p>
        <p class="text1"><span class="text4">五、附註﹕</span></p>
        <p class="text1"><span class="text2"> (1) 相關字串定義﹕</span></p>
        <p class="text1"><span class="text2">* 物品的穿戴位置</span></p>
        <p class="text1"><span class="text2">WEAR_NONE -1<br>
          WEAR_LIGHT 0<br>
          WEAR_FINGER_L 1<br>
          WEAR_FINGER_R 2<br>
          WEAR_NECK_1 3<br>
          WEAR_NECK_2 4<br>
          WEAR_BODY 5<br>
          WEAR_HEAD 6<br>
          WEAR_LEGS 7<br>
          WEAR_FEET 8<br>
          WEAR_HANDS 9<br>
          WEAR_ARMS 10<br>
          WEAR_SHIELD 11<br>
          WEAR_ABOUT 12<br>
          WEAR_WAIST 13<br>
          WEAR_WRIST_L 14<br>
          WEAR_WRIST_R 15<br>
          WEAR_WIELD 16<br>
          WEAR_HOLD 17<br>
          WEAR_EARRING_L 18<br>
          WEAR_EARRING_R 19</span></p>
        <p class="text1"><span class="text2">* 區域重置出口狀態</span></p>
        <p class="text1"><span class="text2">DOOR_OPEN 0<br>
          DOOR_CLOSED 1<br>
          DOOR_LOCKED 2</span></p>
        <p class="text1"><span class="text2">(2) 檔案名稱與位置﹕</span></p>
        <p class="text1"><span class="text2">重置檔一律放在區域的 res 子目錄下, 檔名為 *.res , 
          至於檔案<br>
          的名稱請自行設定, 只是在 res 目錄下所有 *.res 檔案都會被當<br>
          作重置檔案處理.</span></p>
        <p><span class="text2"><br>
          </span> </p>
        </td>
    </tr>
    <tr> 
      <td> 
        <div align="center"><a href="03.html" target="_self"><span class="text2">上一篇</span></a><span class="text2"> 
          | <a href="index.html" target="_self">回索引</a> | <a href="05.html" target="_self">下一篇</a></span></div>
      </td>
    </tr>
  </table>
</div>
</BODY>

<!-- Mirrored from marcoyan.no-ip.org/demo/20020201-3838/download/04.html by HTTrack Website Copier/3.x [XR&CO'2010], Fri, 11 Mar 2011 01:15:48 GMT -->
</html>
